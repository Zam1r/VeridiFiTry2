<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VeridiFi</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/cesium@1.110/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <span class="brand-icon">üå±</span>
                <span class="brand-title">VeridiFi</span>
            </div>
            <div class="nav-links">
                <button type="button" class="nav-link" data-tab="developer-green-treasury">Developer Green Treasury</button>
                <button type="button" class="nav-link active" data-tab="market-analysis">Market Analysis</button>
                <button type="button" class="nav-link" data-tab="leaderboards">Leaderboards</button>
                <button type="button" class="nav-link" data-tab="market">Market</button>
                <button type="button" class="nav-link" data-tab="portfolio">Portfolio</button>
                <button type="button" class="nav-link" data-tab="scanning">Scanning</button>
                <button type="button" class="nav-link admin-btn" id="admin-toggle" onclick="toggleAdminDashboard()">
                    Admin
                </button>
            </div>
            <div class="nav-user">
                <span class="user-credits" id="user-credits">0 CC</span>
                <span class="user-balance" id="user-balance">$0.00</span>
                <button type="button" class="nav-link logout-btn" id="logout-btn" onclick="handleLogout()" style="display: none;">
                    Log Out
                </button>
            </div>
            <div class="nav-menu">
                <button type="button" class="menu-toggle" id="menu-toggle" aria-label="Menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="menu-dropdown" id="menu-dropdown">
                    <a href="#" class="menu-item" id="menu-profile">
                        <span class="menu-icon">üë§</span>
                        <span>Profile</span>
                    </a>
                    <a href="#" class="menu-item" id="menu-settings">
                        <span class="menu-icon">‚öôÔ∏è</span>
                        <span>Settings</span>
                    </a>
                    <a href="#" class="menu-item" id="menu-logout" onclick="handleLogout(); return false;">
                        <span class="menu-icon">üö™</span>
                        <span>Log Out</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Profile Modal -->
    <div class="modal" id="profile-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Profile</h2>
                <button type="button" class="modal-close" id="close-profile">&times;</button>
            </div>
            <div class="modal-body">
                <div class="profile-section">
                    <div class="profile-avatar">üë§</div>
                    <h3>User Account</h3>
                    <div class="profile-info">
                        <div class="info-row">
                            <span class="info-label">Total Carbon Credits:</span>
                            <span class="info-value" id="profile-credits">0 CC</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Account Balance:</span>
                            <span class="info-value" id="profile-balance">$0.00</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Total Investments:</span>
                            <span class="info-value" id="profile-investments">$0.00</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Active Contracts:</span>
                            <span class="info-value" id="profile-contracts">0</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Member Since:</span>
                            <span class="info-value" id="profile-joined">2024</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settings-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Settings</h2>
                <button type="button" class="modal-close" id="close-settings">&times;</button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h3>Preferences</h3>
                    <div class="setting-item">
                        <label class="setting-label">
                            <span>Dark Mode</span>
                            <input type="checkbox" id="dark-mode" checked disabled>
                            <span class="toggle-switch"></span>
                        </label>
                    </div>
                    <div class="setting-item">
                        <label class="setting-label">
                            <span>Email Notifications</span>
                            <input type="checkbox" id="email-notifications" checked>
                            <span class="toggle-switch"></span>
                        </label>
                    </div>
                    <div class="setting-item">
                        <label class="setting-label">
                            <span>Price Alerts</span>
                            <input type="checkbox" id="price-alerts">
                            <span class="toggle-switch"></span>
                        </label>
                    </div>
                </div>
                <div class="settings-section">
                    <h3>Display</h3>
                    <div class="setting-item">
                        <label for="currency-select" class="setting-label">Currency</label>
                        <select id="currency-select" class="setting-select">
                            <option value="USD">USD ($)</option>
                            <option value="EUR">EUR (‚Ç¨)</option>
                            <option value="GBP">GBP (¬£)</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="date-format" class="setting-label">Date Format</label>
                        <select id="date-format" class="setting-select">
                            <option value="MM/DD/YYYY">MM/DD/YYYY</option>
                            <option value="DD/MM/YYYY">DD/MM/YYYY</option>
                            <option value="YYYY-MM-DD">YYYY-MM-DD</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Dashboard Modal -->
    <div class="modal" id="admin-modal">
        <div class="modal-content admin-modal-content">
            <div class="modal-header">
                <h2>üîê Admin Privileges</h2>
                <button type="button" class="modal-close" id="close-admin">&times;</button>
            </div>
            <div class="modal-body admin-body">
                <div class="admin-section">
                    <h3>User Management</h3>
                    
                    <div class="admin-control-group">
                        <label for="admin-wallet-input">Update User Wallet Address</label>
                        <div class="admin-input-group">
                            <input type="text" id="admin-wallet-input" class="admin-input" placeholder="0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb">
                            <button type="button" class="admin-btn-primary" onclick="adminUpdateWallet()">Update Wallet</button>
                        </div>
                    </div>

                    <div class="admin-control-group">
                        <label for="admin-credits-input">Update Carbon Credits</label>
                        <div class="admin-input-group">
                            <input type="number" id="admin-credits-input" class="admin-input" placeholder="0" min="0" step="1">
                            <button type="button" class="admin-btn-primary" onclick="adminUpdateCredits()">Update Credits</button>
                        </div>
                    </div>

                    <div class="admin-control-group">
                        <label for="admin-balance-input">Add Money to Account</label>
                        <div class="admin-input-group">
                            <input type="number" id="admin-balance-input" class="admin-input" placeholder="0.00" min="0" step="0.01">
                            <button type="button" class="admin-btn-primary" onclick="adminAddMoney()">Add Money</button>
                        </div>
                    </div>

                    <div class="admin-control-group">
                        <label>Manual Plasma Payout</label>
                        <div class="admin-input-group">
                            <input type="number" id="admin-payout-amount" class="admin-input" placeholder="1.0" min="0" step="0.01" value="1.0">
                            <button type="button" class="admin-btn-primary" onclick="adminPayUser()">Pay User via Plasma</button>
                        </div>
                        <p class="admin-hint">Sends USDT to user's configured wallet address</p>
                    </div>
                </div>

                <div class="admin-section">
                    <h3>Current User Status</h3>
                    <div class="admin-status-grid">
                        <div class="admin-status-item">
                            <span class="admin-status-label">Wallet Address:</span>
                            <span class="admin-status-value" id="admin-display-wallet">Not set</span>
                        </div>
                        <div class="admin-status-item">
                            <span class="admin-status-label">Carbon Credits:</span>
                            <span class="admin-status-value" id="admin-display-credits">0 CC</span>
                        </div>
                        <div class="admin-status-item">
                            <span class="admin-status-label">Account Balance:</span>
                            <span class="admin-status-value" id="admin-display-balance">$0.00</span>
                        </div>
                    </div>
                </div>

                <div class="admin-section">
                    <h3>System Actions</h3>
                    <div class="admin-action-buttons">
                        <button type="button" class="admin-btn-secondary" onclick="adminRefreshStatus()">Refresh Status</button>
                        <button type="button" class="admin-btn-secondary" onclick="adminResetUser()">Reset User Data</button>
                    </div>
                </div>

                <div class="admin-message" id="admin-message"></div>
            </div>
        </div>
    </div>

    <!-- Main Content Container -->
    <main class="main-container">
        <!-- Developer Green Treasury Tab -->
        <section id="developer-green-treasury" class="tab-content">
            <div class="page-header">
                <h1>üå± Developer Green Treasury</h1>
                <p class="subtitle">Autonomous Multi-Agent Orchestration System</p>
            </div>
            
            <div class="treasury-controls">
                <div class="agent-status">
                    <span class="status-label">Agent Status:</span>
                    <span class="status-indicator">
                        <span class="status-dot" id="treasury-status-dot"></span>
                        <span id="treasury-status-text">Checking...</span>
                    </span>
                </div>
                <div class="agent-buttons">
                    <button type="button" class="btn-primary" id="treasury-start-btn" onclick="treasuryStartAgents()">
                        ‚ñ∂Ô∏è START AGENTS
                    </button>
                    <button type="button" class="btn-secondary" id="treasury-stop-btn" onclick="treasuryStopAgents()">
                        ‚è∏Ô∏è Stop Agents
                    </button>
                </div>
            </div>

            <div class="treasury-dashboard-grid">
                <!-- Live Truth Feed -->
                <div class="treasury-card">
                    <div class="treasury-card-title">
                        <span class="treasury-status-indicator"></span>
                        Live Truth Feed
                    </div>
                    <div class="treasury-price-feed">
                        <div class="treasury-price-item">
                            <div>
                                <div class="treasury-price-label">BTC/USD</div>
                                <div class="treasury-price-value" id="treasury-btc-price">$0.00</div>
                                <div class="treasury-price-timestamp" id="treasury-btc-timestamp">Loading...</div>
                            </div>
                        </div>
                        <div class="treasury-price-item">
                            <div>
                                <div class="treasury-price-label">XRP/USD</div>
                                <div class="treasury-price-value" id="treasury-xrp-price">$0.00</div>
                                <div class="treasury-price-timestamp" id="treasury-xrp-timestamp">Loading...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Carbon Dial -->
                <div class="treasury-card">
                    <div class="treasury-card-title">
                        üåç Carbon Dial
                    </div>
                    <div class="treasury-carbon-dial-container">
                        <div class="treasury-dial-wrapper">
                            <div class="treasury-dial" id="treasury-carbon-dial">
                                <div class="treasury-dial-inner">
                                    <div class="treasury-dial-value" id="treasury-dial-value">0</div>
                                    <div class="treasury-dial-label">gCO‚ÇÇ/kWh</div>
                                </div>
                            </div>
                        </div>
                        <div class="treasury-dial-status" id="treasury-dial-status">Loading...</div>
                        <div class="treasury-carbon-info">
                            <div class="treasury-carbon-info-item">
                                <span class="treasury-carbon-info-label">Region:</span>
                                <span class="treasury-carbon-info-value" id="treasury-carbon-region">Oxford</span>
                            </div>
                            <div class="treasury-carbon-info-item">
                                <span class="treasury-carbon-info-label">Source:</span>
                                <span class="treasury-carbon-info-value" id="treasury-carbon-source">FDC</span>
                            </div>
                            <div class="treasury-carbon-info-item">
                                <span class="treasury-carbon-info-label">Last Update:</span>
                                <span class="treasury-carbon-info-value" id="treasury-carbon-update">--</span>
                            </div>
                        </div>
                        <div class="treasury-fdc-badge" id="treasury-fdc-badge">
                            <span class="treasury-verification-icon">‚è≥</span>
                            <div class="treasury-verification-text">
                                <span class="treasury-verification-status" id="treasury-verification-status">Waiting for Consensus</span>
                                <span class="treasury-verification-message" id="treasury-verification-message">AI requires FDC proof verification</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AI Agent Log -->
            <div class="treasury-card">
                <div class="treasury-card-title">
                    ü§ñ AI Agent Log
                </div>
                <div class="treasury-ai-log-container">
                    <div class="treasury-ai-log" id="treasury-ai-log">
                        <div class="treasury-log-entry">
                            <span class="treasury-log-timestamp">[00:00:00]</span>
                            <span class="treasury-log-agent">[System]</span>
                            <span class="treasury-log-message">Initializing Green Treasury system...</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Developer Terminal -->
            <div class="treasury-card">
                <div class="treasury-card-title" style="display: flex; justify-content: space-between; align-items: center;">
                    <span>‚ö° Agent Terminal</span>
                    <button type="button" class="btn-clear-terminal" id="clear-terminal-btn">Clear</button>
                </div>
                <div class="developer-terminal-container" style="height: 500px;">
                    <div class="terminal-body">
                        <div id="agent-terminal-content" class="terminal-content">
                            <div class="terminal-log terminal-log-system">
                                <span class="log-timestamp">[--:--:--]</span>
                                <span class="log-icon">‚ÑπÔ∏è</span>
                                <span class="log-message">Connecting to agent system...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Market Analysis Tab -->
        <section id="market-analysis" class="tab-content active">
            <div class="page-header">
                <h1>Market Analysis</h1>
                <p class="subtitle">Comprehensive carbon market insights and trends</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon stat-icon-chart"></div>
                    <div class="stat-info">
                        <h3>Total Credits in Circulation</h3>
                        <p class="stat-value" id="total-credits">0</p>
                        <p class="stat-change positive">+0.0%</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon stat-icon-globe"></div>
                    <div class="stat-info">
                        <h3>Global CO‚ÇÇ Level</h3>
                        <p class="stat-value" id="global-co2">0 ppm</p>
                        <p class="stat-change" id="co2-change">+0.0%</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon stat-icon-building"></div>
                    <div class="stat-info">
                        <h3>Active Companies</h3>
                        <p class="stat-value" id="active-companies">0</p>
                        <p class="stat-change positive">+0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon stat-icon-dollar"></div>
                    <div class="stat-info">
                        <h3>Market Cap</h3>
                        <p class="stat-value" id="market-cap">$0</p>
                        <p class="stat-change positive">+0.0%</p>
                    </div>
                </div>
            </div>

            <div class="content-grid">
                <div class="chart-container">
                    <h2>CO‚ÇÇ Trends (Last 12 Months)</h2>
                    <canvas id="co2-trend-chart"></canvas>
                </div>
                <div class="chart-container">
                    <h2>Carbon Credits Distribution</h2>
                    <canvas id="credits-distribution-chart"></canvas>
                </div>
            </div>

            <!-- Carbon Credit Mint Section -->
            <div class="mint-section">
                <div class="mint-header">
                    <h2>ü™ô Carbon Credit Minting Activity</h2>
                    <div class="mint-stats">
                        <div class="mint-stat">
                            <span class="mint-stat-label">Total in Circulation</span>
                            <span class="mint-stat-value" id="total-in-circulation">0 CC</span>
                        </div>
                        <div class="mint-stat">
                            <span class="mint-stat-label">Total Minted</span>
                            <span class="mint-stat-value" id="total-minted">0 CC</span>
                        </div>
                    </div>
                </div>
                <div class="mint-activity-container">
                    <div class="mint-activity-header">
                        <h3>Recent Mint Events</h3>
                        <span class="mint-status-indicator" id="mint-status-indicator">
                            <span class="status-dot"></span>
                            <span>Monitoring Plasma Network</span>
                        </span>
                    </div>
                    <div class="mint-events-list" id="mint-events-list">
                        <div class="mint-event-placeholder">
                            <p>No mint events yet. Waiting for Plasma to mint carbon credits...</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="news-section">
                <h2>Market News</h2>
                <div class="news-list" id="news-list">
                    <!-- News items will be dynamically loaded -->
                </div>
            </div>
        </section>

        <!-- Leaderboards Tab -->
        <section id="leaderboards" class="tab-content">
            <div class="page-header">
                <h1>Leaderboards</h1>
                <p class="subtitle">Top performers and market insights</p>
            </div>

            <div class="leaderboard-tabs">
                <button class="leaderboard-tab active" data-leaderboard="top-performers">Top Performers</button>
                <button class="leaderboard-tab" data-leaderboard="worst-performers">Worst Performers</button>
                <button class="leaderboard-tab" data-leaderboard="best-comparative">Best Comparative</button>
                <button class="leaderboard-tab" data-leaderboard="turnarounds">Best Turnarounds</button>
                <button class="leaderboard-tab" data-leaderboard="growth">Fastest Growth</button>
            </div>

            <div class="leaderboard-content">
                <div id="top-performers" class="leaderboard-section active">
                    <h2>Top Carbon Credit Earners</h2>
                    <div class="leaderboard-table" id="top-performers-list"></div>
                </div>
                <div id="worst-performers" class="leaderboard-section">
                    <h2>Companies in Debt</h2>
                    <div class="leaderboard-table" id="worst-performers-list"></div>
                </div>
                <div id="best-comparative" class="leaderboard-section">
                    <h2>Best Performance vs Industry Average</h2>
                    <div class="leaderboard-table" id="best-comparative-list"></div>
                </div>
                <div id="turnarounds" class="leaderboard-section">
                    <h2>Best Turnarounds</h2>
                    <div class="leaderboard-table" id="turnarounds-list"></div>
                </div>
                <div id="growth" class="leaderboard-section">
                    <h2>Fastest Growing Companies</h2>
                    <div class="leaderboard-table" id="growth-list"></div>
                </div>
            </div>
        </section>

        <!-- Market Interactability Tab -->
        <section id="market" class="tab-content">
            <div class="page-header">
                <h1>Market</h1>
                <p class="subtitle">Invest in companies and trade carbon credits</p>
            </div>

            <div class="market-layout">
                <div class="companies-list">
                    <div class="search-bar">
                        <input type="text" id="company-search" placeholder="Search companies...">
                    </div>
                    <div class="companies-container" id="companies-container">
                        <!-- Companies will be dynamically loaded -->
                    </div>
                </div>

                <div class="trading-panel">
                    <div class="trading-tabs">
                        <button class="trading-tab active" data-trading="invest">Invest</button>
                        <button class="trading-tab" data-trading="contracts">Contracts</button>
                    </div>

                    <div id="invest-panel" class="trading-content active">
                        <h3>Investment Details</h3>
                        <div class="selected-company" id="selected-company">
                            <p class="placeholder-text">Select a company to invest</p>
                        </div>
                        <div class="investment-form" id="investment-form" style="display: none;">
                            <div class="form-group">
                                <label>Investment Amount ($)</label>
                                <input type="number" id="investment-amount" min="0" step="0.01">
                            </div>
                            <div class="form-group">
                                <label>Expected Share (%)</label>
                                <input type="text" id="expected-share" readonly>
                            </div>
                            <button class="btn-primary" id="invest-btn">Invest</button>
                        </div>
                    </div>

                    <div id="contracts-panel" class="trading-content">
                        <h3>Financial Contracts</h3>
                        <div class="contract-types">
                            <button class="contract-type-btn" data-contract="long">Go Long</button>
                            <button class="contract-type-btn" data-contract="short">Short</button>
                            <button class="contract-type-btn" data-contract="futures">Futures</button>
                            <button class="contract-type-btn" data-contract="options">Options</button>
                        </div>
                        <div class="contract-form" id="contract-form">
                            <div class="form-group">
                                <label>Select Company</label>
                                <select id="contract-company">
                                    <option value="">Choose a company...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Contract Type</label>
                                <input type="text" id="contract-type-display" readonly>
                            </div>
                            <div class="form-group">
                                <label>Amount</label>
                                <input type="number" id="contract-amount" min="0" step="0.01">
                            </div>
                            <div class="form-group" id="contract-expiry-group" style="display: none;">
                                <label>Expiry Date</label>
                                <input type="date" id="contract-expiry">
                            </div>
                            <div class="form-group" id="contract-strike-group" style="display: none;">
                                <label>Strike Price</label>
                                <input type="number" id="contract-strike" min="0" step="0.01">
                            </div>
                            <button class="btn-primary" id="create-contract-btn">Create Contract</button>
                        </div>
                        <div class="active-contracts">
                            <h4>Active Contracts</h4>
                            <div id="active-contracts-list"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Company Reports Section -->
            <div class="company-reports-section">
                <div class="reports-header">
                    <h2>üìä Company Reports</h2>
                    <p class="reports-subtitle">Recent CO‚ÇÇ emissions reports and carbon credit verification</p>
                </div>
                <div class="reports-container" id="company-reports-container">
                    <!-- Reports will be dynamically loaded -->
                </div>
            </div>
        </section>

        <!-- Portfolio Tab -->
        <section id="portfolio" class="tab-content">
            <div class="page-header">
                <h1>Portfolio</h1>
                <p class="subtitle">Manage your investments and track performance</p>
            </div>

            <div class="portfolio-stats">
                <div class="portfolio-stat-card">
                    <h3>Total Carbon Credits</h3>
                    <p class="stat-value-large" id="portfolio-credits">0 CC</p>
                </div>
                <div class="portfolio-stat-card">
                    <h3>Total Value</h3>
                    <p class="stat-value-large" id="portfolio-value">$0.00</p>
                </div>
                <div class="portfolio-stat-card">
                    <h3>Total Income</h3>
                    <p class="stat-value-large positive" id="portfolio-income">$0.00</p>
                </div>
                <div class="portfolio-stat-card">
                    <h3>ROI</h3>
                    <p class="stat-value-large" id="portfolio-roi">0.00%</p>
                </div>
            </div>

            <div class="portfolio-content">
                <div class="holdings-section">
                    <h2>Holdings</h2>
                    <div class="holdings-list" id="holdings-list">
                        <!-- Holdings will be dynamically loaded -->
                    </div>
                </div>

                <div class="income-section">
                    <h2>Income History</h2>
                    <div class="income-chart-container">
                        <canvas id="income-chart"></canvas>
                    </div>
                    <div class="income-list" id="income-list">
                        <!-- Income transactions will be dynamically loaded -->
                    </div>
                </div>
            </div>

            <div class="wallet-config-section">
                <h2>USDT Payout Wallet</h2>
                <p class="wallet-description">Enter your wallet address to receive USDT rewards via Plasma (gasless transactions)</p>
                <div class="wallet-input-container">
                    <div class="wallet-input-group">
                        <label for="wallet-address-input">Wallet Address</label>
                        <div class="wallet-input-wrapper">
                            <input 
                                type="text" 
                                id="wallet-address-input" 
                                class="wallet-input" 
                                placeholder="0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb"
                                maxlength="42"
                            />
                            <button type="button" class="wallet-save-btn" id="wallet-save-btn" onclick="saveWalletAddress()">
                                Save
                            </button>
                        </div>
                        <div class="wallet-status" id="wallet-status">
                            <span class="wallet-status-text" id="wallet-status-text"></span>
                        </div>
                        <div class="wallet-info">
                            <p class="wallet-info-text">
                                <strong>Supported:</strong> Any Ethereum-compatible wallet address (MetaMask, Coinbase Wallet, etc.)<br>
                                <strong>Network:</strong> Plasma Testnet<br>
                                <strong>Token:</strong> USDT (Tether USD)<br>
                                <strong>Gas Fees:</strong> $0.00 (covered by Plasma Paymaster)
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="plasma-terminal-section">
                <h2>Plasma Commands</h2>
                <div class="terminal-container">
                    <div class="terminal-header">
                        <div class="terminal-controls">
                            <span class="terminal-dot terminal-dot-red"></span>
                            <span class="terminal-dot terminal-dot-yellow"></span>
                            <span class="terminal-dot terminal-dot-green"></span>
                        </div>
                        <span class="terminal-title">plasma-testnet</span>
                    </div>
                    <div class="terminal-body" id="plasma-terminal">
                        <div class="terminal-line">
                            <span class="terminal-prompt">$</span>
                            <span class="terminal-text">Waiting for Plasma commands...</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Scanning Tab -->
        <section id="scanning" class="tab-content">
            <div id="cesium-container"></div>
            <div id="info-panel">
                <h2>Carbon Scan</h2>
                <div id="company-selection">
                    <label for="company-select" class="select-label">Select Company:</label>
                    <select id="company-select" class="company-select">
                        <option value="">-- Select a company --</option>
                    </select>
                </div>
                <div id="company-info" class="company-info hidden">
                    <div class="company-details">
                        <h3 id="company-name"></h3>
                        <p id="company-location" class="company-location"></p>
                        <p id="company-sites-count" class="company-sites-count"></p>
                    </div>
                </div>
                <div id="error-message" class="error-message hidden"></div>
                <button id="scan-button" class="scan-button" disabled>Start Scan</button>
                <div id="location-search" class="location-search-section">
                    <p class="section-divider">Or search location:</p>
                    <input type="text" id="location-input" placeholder="Search location..." class="location-input">
                    <button id="search-button" class="search-button">Search</button>
                </div>
                <div id="zoom-controls" class="zoom-controls-section">
                    <p class="section-divider">Zoom Controls:</p>
                    <div class="zoom-buttons">
                        <button id="zoom-in-button" class="zoom-button" title="Zoom In">+</button>
                        <button id="zoom-out-button" class="zoom-button" title="Zoom Out">‚àí</button>
                        <button id="zoom-reset-button" class="zoom-button" title="Reset View">‚åÇ</button>
                    </div>
                </div>
            </div>
            <!-- Earth Rendering Settings Panel -->
            <div id="earth-settings-panel" class="earth-settings-panel hidden">
                <div class="settings-panel-header">
                    <h3>üåç Earth Rendering Settings</h3>
                    <button id="close-earth-settings" class="settings-close-button">√ó</button>
                </div>
                <div class="settings-panel-content">
                    <div class="setting-group">
                        <label for="imagery-provider" class="setting-label-text">Imagery Provider:</label>
                        <select id="imagery-provider" class="setting-select">
                            <option value="osm">OpenStreetMap (Street View)</option>
                            <option value="esri-street">ESRI World Street Map</option>
                            <option value="esri-imagery">ESRI World Imagery (Satellite)</option>
                            <option value="esri-topo">ESRI World Topographic</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <label class="setting-toggle-label">
                            <span>Enable Lighting</span>
                            <input type="checkbox" id="enable-lighting" checked>
                            <span class="toggle-switch"></span>
                        </label>
                    </div>
                    <div class="setting-group">
                        <label class="setting-toggle-label">
                            <span>Show Atmosphere</span>
                            <input type="checkbox" id="show-atmosphere" checked>
                            <span class="toggle-switch"></span>
                        </label>
                    </div>
                    <div class="setting-group">
                        <label for="base-color" class="setting-label-text">Base Color:</label>
                        <div class="color-picker-container">
                            <input type="color" id="base-color" value="#ffffff" class="color-picker">
                            <input type="text" id="base-color-text" value="#ffffff" class="color-text-input" placeholder="#ffffff">
                        </div>
                    </div>
                    <div class="setting-group">
                        <label for="atmosphere-opacity" class="setting-label-text">Atmosphere Opacity:</label>
                        <input type="range" id="atmosphere-opacity" min="0" max="100" value="50" class="setting-slider">
                        <span class="slider-value" id="atmosphere-opacity-value">50%</span>
                    </div>
                    <div class="setting-group">
                        <label for="globe-brightness" class="setting-label-text">Globe Brightness:</label>
                        <input type="range" id="globe-brightness" min="0" max="200" value="100" class="setting-slider">
                        <span class="slider-value" id="globe-brightness-value">100%</span>
                    </div>
                    <div class="setting-group">
                        <label class="setting-toggle-label">
                            <span>Show Terrain</span>
                            <input type="checkbox" id="show-terrain" checked>
                            <span class="toggle-switch"></span>
                        </label>
                    </div>
                    <div class="setting-group">
                        <button id="reset-settings" class="settings-reset-button">Reset to Defaults</button>
                    </div>
                </div>
            </div>
            <button id="settings-toggle-button" class="settings-toggle-button" title="Earth Rendering Settings">
                ‚öôÔ∏è
            </button>
            <div id="analysis-panel" class="analysis-panel hidden">
                <div class="analysis-header">
                    <h2>Scan Results</h2>
                    <button id="close-analysis" class="close-button">√ó</button>
                </div>
                <div id="analysis-content" class="analysis-content">
                    <!-- Analysis results will be populated here -->
                </div>
            </div>
            <div id="satellite-animation" class="satellite-animation hidden">
                <div id="satellite-left" class="satellite">üõ∞Ô∏è</div>
                <div id="satellite-right" class="satellite">üõ∞Ô∏è</div>
                <div id="ground-satellite" class="ground-satellite">
                    <pre class="satellite-dish-art">            ___
           /   \
          /     \
         |       |
         |_______|
          \     /
           \___/
            |
            |
           / \
          /   \
         |     |
         |_____|
          \   /
           \_/</pre>
                </div>
                <svg id="satellite-lines" class="satellite-lines">
                    <line id="line-left-ground" class="signal-line ground-line"></line>
                    <line id="line-right-ground" class="signal-line ground-line"></line>
                </svg>
                <div id="loading-bar-container" class="loading-bar-container">
                    <div id="loading-bar" class="loading-bar"></div>
                </div>
            </div>
            <div id="flare-terminal" class="flare-terminal hidden">
                <div class="terminal-header">
                    <div class="terminal-title">
                        <span class="terminal-icon">‚ö°</span>
                        <span>Flare Stack API Terminal</span>
                    </div>
                    <div class="terminal-status">
                        <span class="status-dot"></span>
                        <span>SCANNING</span>
                    </div>
                </div>
                <div class="terminal-body">
                    <div id="terminal-content" class="terminal-content">
                        <!-- Terminal logs will be added here -->
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Tutorial Full Page -->
    <div class="tutorial-fullpage" id="tutorial-overlay">
        <button type="button" class="tutorial-arrow tutorial-arrow-left" id="tutorial-arrow-left" aria-label="Previous slide">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M15 18l-6-6 6-6"/>
            </svg>
        </button>
        <div class="tutorial-slides-container" id="tutorial-slides-container">
            <!-- Slide 1: Welcome -->
            <div class="tutorial-slide" data-slide="1">
                <div class="tutorial-content">
                    <div class="tutorial-icon">üå±</div>
                    <h2 class="tutorial-title">Welcome to VeridiFi</h2>
                    <p class="tutorial-text">
                        VeridiFi is a revolutionary platform that brings transparency and accountability 
                        to carbon credit markets using blockchain technology and AI-powered verification.
                    </p>
                    <p class="tutorial-text">
                        We're transforming how companies report emissions and earn carbon credits, 
                        ensuring every credit represents real, verified environmental impact.
                    </p>
                    <p class="tutorial-text highlight-text">
                        Get ready to explore a new era of sustainable finance.
                    </p>
                </div>
            </div>
            
            <!-- Slide 2: The Problem -->
            <div class="tutorial-slide" data-slide="2">
                <div class="tutorial-content">
                    <div class="tutorial-icon-professional">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
                            <line x1="12" y1="9" x2="12" y2="13"></line>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                    </div>
                    <h2 class="tutorial-title">The Problem</h2>
                    <p class="tutorial-text">
                        <strong>Companies lie about CO‚ÇÇ emissions.</strong> Many organizations fabricate 
                        or exaggerate their environmental data to receive carbon credits they don't deserve.
                    </p>
                    <p class="tutorial-text">
                        This creates a broken system where:
                    </p>
                    <ul class="tutorial-list">
                        <li>Fake carbon credits flood the market</li>
                        <li>Real environmental progress goes unrewarded</li>
                        <li>Trust in carbon markets erodes</li>
                        <li>Climate goals become unachievable</li>
                    </ul>
                    <p class="tutorial-text highlight-text">
                        VeridiFi solves this with blockchain-verified accountability.
                    </p>
                </div>
            </div>
            
            <!-- Slide 3: The Concept -->
            <div class="tutorial-slide" data-slide="3">
                <div class="tutorial-content">
                    <div class="tutorial-icon-professional">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                            <path d="M2 17l10 5 10-5"></path>
                            <path d="M2 12l10 5 10-5"></path>
                        </svg>
                    </div>
                    <h2 class="tutorial-title">Our Solution: Accountability</h2>
                    <p class="tutorial-text">
                        VeridiFi holds companies accountable through transparent, verifiable emissions tracking.
                    </p>
                    <div class="tutorial-concept-box">
                        <div class="concept-item positive">
                            <div class="concept-icon-professional">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="20 6 9 17 4 12"></polyline>
                                </svg>
                            </div>
                            <div class="concept-content">
                                <h3>Verified Emissions Reduction</h3>
                                <p>Companies that prove real CO‚ÇÇ reductions earn <strong>Carbon Credits (CC)</strong></p>
                            </div>
                        </div>
                        <div class="concept-item negative">
                            <div class="concept-icon-professional">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="18" y1="6" x2="6" y2="18"></line>
                                    <line x1="6" y1="6" x2="18" y2="18"></line>
                                </svg>
                            </div>
                            <div class="concept-content">
                                <h3>Failed Verification</h3>
                                <p>Companies with unverified or false data accumulate <strong>$Debt</strong></p>
                            </div>
                        </div>
                    </div>
                    <p class="tutorial-text highlight-text">
                        Real data = Rewards. False data = Consequences.
                    </p>
                </div>
            </div>
            
            <!-- Slide 4: System Architecture -->
            <div class="tutorial-slide tutorial-slide-architecture" data-slide="4">
                <div class="tutorial-content-architecture">
                    <div class="tutorial-text-side">
                        <div class="tutorial-icon-professional">
                            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                            </svg>
                        </div>
                        <h2 class="tutorial-title">System Architecture</h2>
                        <p class="tutorial-text">
                            VeridiFi's complete stack integrates blockchain, AI, and payment systems:
                        </p>
                        <p class="tutorial-text highlight-text">
                            Integrated blockchain, AI, and payment infrastructure working in harmony.
                        </p>
                    </div>
                    <div class="architecture-diagram-container">
                        <svg class="architecture-diagram" viewBox="0 0 1200 900" xmlns="http://www.w3.org/2000/svg">
                            <!-- Background Grid -->
                            <defs>
                                <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
                                    <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#30363d" stroke-width="0.5" opacity="0.3"/>
                                </pattern>
                                <linearGradient id="plasmaGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#6c5ce7;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#a29bfe;stop-opacity:1" />
                                </linearGradient>
                                <linearGradient id="analysisGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#00d4aa;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#00b894;stop-opacity:1" />
                                </linearGradient>
                                <linearGradient id="flareGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#0984e3;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#74b9ff;stop-opacity:1" />
                                </linearGradient>
                                <filter id="glow">
                                    <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                                    <feMerge>
                                        <feMergeNode in="coloredBlur"/>
                                        <feMergeNode in="SourceGraphic"/>
                                    </feMerge>
                                </filter>
                                <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                    <polygon points="0 0, 10 3, 0 6" fill="currentColor" opacity="0.7"/>
                                </marker>
                            </defs>
                            <rect width="1200" height="900" fill="#0d1117"/>
                            <rect width="1200" height="900" fill="url(#grid)"/>
                            
                            <!-- Row 1: Plasma Stack (Top, Centered) -->
                            <g id="plasma-stack">
                                <rect x="400" y="30" width="400" height="110" rx="12" fill="url(#plasmaGrad)" opacity="0.9" stroke="#6c5ce7" stroke-width="2" filter="url(#glow)"/>
                                <text x="600" y="70" text-anchor="middle" fill="#ffffff" font-size="24" font-weight="600">Plasma Stack</text>
                                <text x="600" y="95" text-anchor="middle" fill="#e6edf3" font-size="14" opacity="0.9">Gasless Payment Infrastructure</text>
                                <text x="600" y="120" text-anchor="middle" fill="#8b949e" font-size="12">Protocol-Level Paymaster</text>
                            </g>
                            
                            <!-- Row 2: Analysis Stack (Below Plasma, Centered) -->
                            <g id="analysis-stack">
                                <rect x="400" y="170" width="400" height="130" rx="12" fill="url(#analysisGrad)" opacity="0.9" stroke="#00d4aa" stroke-width="2" filter="url(#glow)"/>
                                <text x="600" y="210" text-anchor="middle" fill="#ffffff" font-size="24" font-weight="600">Analysis Stack</text>
                                <rect x="450" y="230" width="300" height="55" rx="8" fill="rgba(0,0,0,0.2)" stroke="#00d4aa" stroke-width="1"/>
                                <text x="600" y="255" text-anchor="middle" fill="#ffffff" font-size="16" font-weight="500">LangGraph Agents</text>
                                <text x="600" y="275" text-anchor="middle" fill="#e6edf3" font-size="12" opacity="0.9">AI-Powered Verification &amp; Decision Making</text>
                            </g>
                            
                            <!-- Row 3: Users, Market, Companies (Side by Side, Below Analysis Stack) -->
                            <g id="users">
                                <rect x="50" y="340" width="200" height="100" rx="12" fill="#161b22" stroke="#00d4aa" stroke-width="2"/>
                                <text x="150" y="375" text-anchor="middle" fill="#00d4aa" font-size="20" font-weight="600">Users</text>
                                <text x="150" y="400" text-anchor="middle" fill="#e6edf3" font-size="12">Investors &amp;</text>
                                <text x="150" y="415" text-anchor="middle" fill="#e6edf3" font-size="12">Traders</text>
                            </g>
                            
                            <g id="market">
                                <rect x="270" y="340" width="180" height="100" rx="12" fill="#161b22" stroke="#0984e3" stroke-width="2"/>
                                <text x="360" y="375" text-anchor="middle" fill="#0984e3" font-size="20" font-weight="600">Market</text>
                                <text x="360" y="400" text-anchor="middle" fill="#e6edf3" font-size="12">Carbon Credit</text>
                                <text x="360" y="415" text-anchor="middle" fill="#e6edf3" font-size="12">Exchange</text>
                            </g>
                            
                            <g id="companies">
                                <rect x="800" y="340" width="200" height="100" rx="12" fill="#161b22" stroke="#6c5ce7" stroke-width="2"/>
                                <text x="900" y="375" text-anchor="middle" fill="#6c5ce7" font-size="20" font-weight="600">Companies</text>
                                <text x="900" y="400" text-anchor="middle" fill="#e6edf3" font-size="12">Emissions</text>
                                <text x="900" y="415" text-anchor="middle" fill="#e6edf3" font-size="12">Reporting</text>
                            </g>
                            
                            <!-- Row 4: Flare Stack (Below Users/Market/Companies, Centered) -->
                            <g id="flare-stack">
                                <rect x="400" y="480" width="400" height="130" rx="12" fill="url(#flareGrad)" opacity="0.9" stroke="#0984e3" stroke-width="2" filter="url(#glow)"/>
                                <text x="600" y="520" text-anchor="middle" fill="#ffffff" font-size="24" font-weight="600">Flare Stack</text>
                                <rect x="420" y="540" width="160" height="55" rx="8" fill="rgba(0,0,0,0.2)" stroke="#0984e3" stroke-width="1"/>
                                <rect x="620" y="540" width="160" height="55" rx="8" fill="rgba(0,0,0,0.2)" stroke="#0984e3" stroke-width="1"/>
                                <text x="500" y="565" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="500">FTSO</text>
                                <text x="500" y="580" text-anchor="middle" fill="#e6edf3" font-size="11">Price Oracle</text>
                                <text x="700" y="565" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="500">FDC</text>
                                <text x="700" y="580" text-anchor="middle" fill="#e6edf3" font-size="11">Data Consensus</text>
                            </g>
                            
                            <!-- Row 5: Data Sources (Bottom, Side by Side) -->
                            <g id="data-sources">
                                <rect x="50" y="650" width="200" height="80" rx="12" fill="#161b22" stroke="#8b949e" stroke-width="1.5" stroke-dasharray="4,4"/>
                                <text x="150" y="680" text-anchor="middle" fill="#8b949e" font-size="14" font-weight="500">User Database</text>
                                <text x="150" y="700" text-anchor="middle" fill="#6e7681" font-size="11">(Supabase)</text>
                                
                                <rect x="270" y="650" width="180" height="80" rx="12" fill="#161b22" stroke="#8b949e" stroke-width="1.5" stroke-dasharray="4,4"/>
                                <text x="360" y="680" text-anchor="middle" fill="#8b949e" font-size="14" font-weight="500">Real-time Prices</text>
                                <text x="360" y="700" text-anchor="middle" fill="#6e7681" font-size="11">Market Data</text>
                                
                                <rect x="800" y="650" width="200" height="80" rx="12" fill="#161b22" stroke="#8b949e" stroke-width="1.5" stroke-dasharray="4,4"/>
                                <text x="900" y="680" text-anchor="middle" fill="#8b949e" font-size="14" font-weight="500">Carbon Sources</text>
                                <text x="900" y="700" text-anchor="middle" fill="#6e7681" font-size="11">All Carbon Data</text>
                            </g>
                            
                            <!-- Arrows: Analysis Stack to Plasma Stack (from top edge of Analysis at y=170 to bottom edge of Plasma at y=140) -->
                            <path d="M 600 170 L 600 140" fill="none" stroke="#00d4aa" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.7"/>
                            
                            <!-- Arrows: Plasma Stack to Users (from left edge of Plasma at x=500, y=140 to right edge of Users at x=250, y=340) -->
                            <path d="M 500 140 Q 300 250 250 340" fill="none" stroke="#6c5ce7" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.7"/>
                            
                            <!-- Arrows: Plasma Stack to Companies (from right edge of Plasma at x=700, y=140 to left edge of Companies at x=800, y=340) -->
                            <path d="M 700 140 Q 900 250 800 340" fill="none" stroke="#6c5ce7" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.7"/>
                            
                            <!-- Arrows: Users to Market (from right edge of Users at x=250 to left edge of Market at x=270, both at y=390) -->
                            <path d="M 250 390 L 270 390" fill="none" stroke="#0984e3" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.7"/>
                            
                            <!-- Arrows: Companies to Market (from left edge of Companies at x=800 to right edge of Market at x=450, both at y=390) -->
                            <path d="M 800 390 L 450 390" fill="none" stroke="#0984e3" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.7"/>
                            
                            <!-- Arrows: Market to Companies (from right edge of Market at x=450 to left edge of Companies at x=800, both at y=420) -->
                            <path d="M 450 420 L 800 420" fill="none" stroke="#0984e3" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.7"/>
                            
                            <!-- Arrows: Users to Analysis Stack (from top edge of Users at y=340 to bottom edge of Analysis at y=300) -->
                            <path d="M 150 340 Q 300 250 500 300" fill="none" stroke="#00d4aa" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.7"/>
                            
                            <!-- Arrows: Companies to Analysis Stack (from top edge of Companies at y=340 to bottom edge of Analysis at y=300) -->
                            <path d="M 900 340 Q 850 250 700 300" fill="none" stroke="#00d4aa" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.7"/>
                            
                            <!-- Arrows: Market to Analysis Stack (from top edge of Market at y=340 to bottom edge of Analysis at y=300) -->
                            <path d="M 360 340 Q 450 250 500 300" fill="none" stroke="#00d4aa" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.7"/>
                            
                            <!-- Arrows: FTSO to Market (from top edge of FTSO at y=540 to bottom edge of Market at y=440) -->
                            <path d="M 500 540 L 360 440" fill="none" stroke="#0984e3" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.7"/>
                            
                            <!-- Arrows: FDC to Companies (from top edge of FDC at y=540 to bottom edge of Companies at y=440) -->
                            <path d="M 700 540 L 900 440" fill="none" stroke="#0984e3" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.7"/>
                            
                            <!-- Arrows: FTSO fetches Real-time Prices (from bottom edge of FTSO at y=595 to top edge of Real-time Prices at y=650) -->
                            <path d="M 500 595 L 360 650" fill="none" stroke="#0984e3" stroke-width="1.5" stroke-dasharray="3,3" marker-end="url(#arrowhead)" opacity="0.5"/>
                            <text x="430" y="620" fill="#0984e3" font-size="10" opacity="0.7">Fetches</text>
                            
                            <!-- Arrows: FDC to Carbon Sources (from bottom edge of FDC at y=595 to top edge of Carbon Sources at y=650) -->
                            <path d="M 700 595 L 900 650" fill="none" stroke="#0984e3" stroke-width="1.5" stroke-dasharray="3,3" marker-end="url(#arrowhead)" opacity="0.5"/>
                            
                            <!-- Arrows: User Database to Users (from top edge of User Database at y=650 to bottom edge of Users at y=440) -->
                            <path d="M 150 650 L 150 440" fill="none" stroke="#8b949e" stroke-width="1.5" stroke-dasharray="3,3" marker-end="url(#arrowhead)" opacity="0.5"/>
                        </svg>
                    </div>
                </div>
            </div>
            
            <!-- Slide 5: LangFlow Bots Details -->
            <div class="tutorial-slide" data-slide="5">
                <div class="tutorial-content">
                    <div class="tutorial-icon-professional">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="9" y1="3" x2="9" y2="21"></line>
                            <line x1="15" y1="3" x2="15" y2="21"></line>
                            <line x1="3" y1="9" x2="21" y2="9"></line>
                            <line x1="3" y1="15" x2="21" y2="15"></line>
                        </svg>
                    </div>
                    <h2 class="tutorial-title">LangFlow Bots: The AI Verifiers</h2>
                    <p class="tutorial-text">
                        Our intelligent agents work 24/7 to verify emissions data:
                    </p>
                    <div class="tutorial-bot-features">
                        <div class="bot-feature">
                            <div class="feature-icon-professional">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <path d="M21 21l-4.35-4.35"></path>
                                </svg>
                            </div>
                            <h3>Continuous Monitoring</h3>
                            <p>Bots scan company reports, satellite data, and IoT sensors in real-time</p>
                        </div>
                        <div class="bot-feature">
                            <div class="feature-icon-professional">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="18" y1="20" x2="18" y2="10"></line>
                                    <line x1="12" y1="20" x2="12" y2="4"></line>
                                    <line x1="6" y1="20" x2="6" y2="14"></line>
                                </svg>
                            </div>
                            <h3>Data Analysis</h3>
                            <p>AI algorithms cross-reference multiple data sources to detect discrepancies</p>
                        </div>
                        <div class="bot-feature">
                            <div class="feature-icon-professional">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="20 6 9 17 4 12"></polyline>
                                </svg>
                            </div>
                            <h3>Automated Verification</h3>
                            <p>Verified data is automatically recorded on Flare blockchain</p>
                        </div>
                        <div class="bot-feature">
                            <div class="feature-icon-professional">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
                                    <line x1="12" y1="9" x2="12" y2="13"></line>
                                    <line x1="12" y1="17" x2="12.01" y2="17"></line>
                                </svg>
                            </div>
                            <h3>Anomaly Detection</h3>
                            <p>Bots flag suspicious patterns and trigger manual audits when needed</p>
                        </div>
                    </div>
                    <p class="tutorial-text highlight-text">
                        No human bias. No manipulation. Just verified truth.
                    </p>
                </div>
            </div>
            
            <!-- Slide 6: Application Features -->
            <div class="tutorial-slide" data-slide="6">
                <div class="tutorial-content">
                    <div class="tutorial-icon-professional">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="3" y1="9" x2="21" y2="9"></line>
                            <line x1="9" y1="21" x2="9" y2="9"></line>
                        </svg>
                    </div>
                    <h2 class="tutorial-title">Explore VeridiFi Features</h2>
                    <p class="tutorial-text">
                        Your dashboard provides powerful tools powered by Flare, Bots, and Plasma:
                    </p>
                    <div class="tutorial-features-grid">
                        <div class="feature-card">
                            <div class="feature-card-icon-professional">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                                    <path d="M2 17l10 5 10-5"></path>
                                    <path d="M2 12l10 5 10-5"></path>
                                </svg>
                            </div>
                            <h3>Developer Green Treasury</h3>
                            <p>Monitor AI agents, view live carbon data, and track Flare Stack integrations</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-card-icon-professional">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="18" y1="20" x2="18" y2="10"></line>
                                    <line x1="12" y1="20" x2="12" y2="4"></line>
                                    <line x1="6" y1="20" x2="6" y2="14"></line>
                                </svg>
                            </div>
                            <h3>Market Analysis</h3>
                            <p>Analyze carbon credit markets with real-time data from verified sources</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-card-icon-professional">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="12" y1="1" x2="12" y2="23"></line>
                                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                                </svg>
                            </div>
                            <h3>Portfolio & Trading</h3>
                            <p>Invest in verified companies and receive Plasma-powered instant payouts</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-card-icon-professional">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="12" y1="2" x2="12" y2="6"></line>
                                    <line x1="12" y1="18" x2="12" y2="22"></line>
                                    <line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line>
                                    <line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line>
                                    <line x1="2" y1="12" x2="6" y2="12"></line>
                                    <line x1="18" y1="12" x2="22" y2="12"></line>
                                    <line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line>
                                    <line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>
                                </svg>
                            </div>
                            <h3>Carbon Scanning</h3>
                            <p>Visualize emissions data on a 3D globe with bot-verified information</p>
                        </div>
                    </div>
                    <p class="tutorial-text highlight-text">
                        Ready to start? Click Finish to begin your journey!
                    </p>
                    <button type="button" class="tutorial-btn-finish" id="tutorial-finish">
                        Finish & Start Exploring
                    </button>
                </div>
            </div>
        </div>
        <button type="button" class="tutorial-arrow tutorial-arrow-right" id="tutorial-arrow-right" aria-label="Next slide">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M9 18l6-6-6-6"/>
            </svg>
        </button>
        <div class="tutorial-dots-container">
            <div class="tutorial-dots">
                <span class="tutorial-dot active" data-slide="1"></span>
                <span class="tutorial-dot" data-slide="2"></span>
                <span class="tutorial-dot" data-slide="3"></span>
                <span class="tutorial-dot" data-slide="4"></span>
                <span class="tutorial-dot" data-slide="5"></span>
                <span class="tutorial-dot" data-slide="6"></span>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/cesium@1.110/Build/Cesium/Cesium.js" 
            onerror="console.error('Failed to load Cesium library')"></script>
    <script>
        // Wait for Cesium to load before initializing
        window.addEventListener('load', function() {
            if (typeof Cesium === 'undefined') {
                console.error('Cesium failed to load');
                const container = document.getElementById('cesium-container');
                if (container) {
                    container.innerHTML = 
                        '<div style="color: white; padding: 20px; text-align: center; font-family: Arial;">' +
                        'Error: Cesium library failed to load.<br>Please check your internet connection and refresh the page.</div>';
                }
            }
        });
    </script>
    <script src="companies.js"></script>
    <script src="flare-integration.js"></script>
    <script src="app.js"></script>
</body>
</html>

